<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no">
    <title>SwiftUI - Detect multiple tap gestures</title>
    <link rel="stylesheet" href="/assets/main-678d22623e973a952a30c3cfae480d187c31fe01043fe87b96de5d51ae43cdd1eee95d15ab7b01df76f18890ac0d8c9151cd120e2ac628c9b6b631f0f25e4611.css" integrity="sha512-Z40iYj6XOpUqMMPPrkgNGHwx/gEEP+h7lt5dUa5DzdHu6V0Vq3sB33bxiJCsDYyRUc0SDirGKMm2tjHw8l5GEQ==" crossorigin="anonymous">

    <link id="syntax.dark" disabled rel="stylesheet" href="/assets/syntax.dark-244df18383876a0679785f5c81659f346819acab241ca821e6df93e7a237536cc75c8644f1aed64b937f0031b4fcc1f2248673cbaa47f683aae084618bee3366.css" integrity="sha512-JE3xg4OHagZ5eF9cgWWfNGgZrKskHKgh5t+T56I3U2zHXIZE8a7WS5N/ADG0/MHyJIZzy6pH9oOq4IRhi+4zZg==" crossorigin="anonymous">
    <link id="syntax.light" disabled rel="stylesheet" href="/assets/syntax.light-2dfd685b9c9ff83c18389de3af69c91bc05e1654afb8419ec0752ae43e7c869207e8eb7d03ce1da7d1a51d98a97a1d955a98c5e3412a64b4a1ce2981dc25e9a9.css" integrity="sha512-Lf1oW5yf+DwYOJ3jr2nJG8BeFlSvuEGewHUq5D58hpIH6Ot9A84dp9GlHZipeh2VWpjF40EqZLShzimB3CXpqQ==" crossorigin="anonymous">

    <link rel="canonical" href="https://marksinkovics.github.io/blog/2021/09/19/swiftui_detect_multiple_tap_gestures/">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700,800,600' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Muli:400,300' rel='stylesheet' type='text/css'>
    <script integrity="sha512-6ALk0owNNtx9PFTYzFiIM1YUv0cMNAjaSHtTHYcWpDb3svaO7LKUT6vKoEiUcdVLcBOqPeFSr3mCWk2MlzhxqA==" crossorigin="anonymous" src="/assets/theme-e802e4d28c0d36dc7d3c54d8cc5888335614bf470c3408da487b531d8716a436f7b2f68eecb2944fabcaa0489471d54b7013aa3de152af79825a4d8c973871a8.js"></script>
    <script integrity="sha512-fH2pPu21Ueb4T+JeZc9bB4AxJB9K3HACLaso7P8FlaPB9VmCSEUPsRn8AEUDJMa/uDRuZxeuIqGr/J0SOVqtng==" crossorigin="anonymous" src="/assets/navigation-7c7da93eedb551e6f84fe25e65cf5b078031241f4adc70022dab28ecff0595a3c1f5598248450fb119fc00450324c6bfb8346e6717ae22a1abfc9d12395aad9e.js"></script>
    <script integrity="sha512-RsOrX8ZXK7VIIzXayC7rx5QJTd9qv2IPrUjREb+Q04ceYVsmwoL4RtuLLDF4REkjIsPkVslnlIgfZ0nwUz3HiA==" crossorigin="anonymous" src="/assets/active-46c3ab5fc6572bb5482335dac82eebc794094ddf6abf620fad48d111bf90d3871e615b26c282f846db8b2c317844492322c3e456c96794881f6749f0533dc788.js"></script>
    <script integrity="sha512-1kXQnKQYqrpMZO/zDNpxeMQ6/NF4jDFLrBfdSHL3VncXJgr9dYq/OUUBDptyGsGQHE5Y/77qiokhlbMsuAKLOQ==" crossorigin="anonymous" src="/assets/document_height-d645d09ca418aaba4c64eff30cda7178c43afcd1788c314bac17dd4872f7567717260afd758abf3945010e9b721ac1901c4e58ffbeea8a892195b32cb8028b39.js"></script>
</head>
<body>
    <div class="row" id="row">
        <div class="nav-panel" id="nav-panel">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNavigation()">&times;</a>
    <a href="/">Home</a>
    
        
            <a href="/about/">About Me</a>
        
    
        
            <a href="/projects/">Projects</a>
        
    
    <a href="/blog/">Blog</a>
    <a href="/tags/">Tags</a>
    <footer class="nav-bottom-bar">
        <div class="themeModeSwitcher">
            <input type="checkbox" id="themeSwitcher" onclick="switchTheme();" />
            <label for="themeSwitcher" />
        </div>
        <span class="icon-border"></span>
        <a href="https://github.com/marksinkovics" class="toolbar-icon github"></a>
        <a href="https://twitter.com/marksinkovics" class="toolbar-icon twitter"></a>
        <a href="https://www.linkedin.com/in/marksinkovics" class="toolbar-icon linkedin"></a>
        <a href="javascript:window.open('mailto:sinkovics.mark@gmail.com')" class="toolbar-icon email"></a>
        <a href="/feed.xml" target="_blank" class="toolbar-icon rss"></a>
    </footer>
    <div class="header" id="header">
        <span class="hamburger-menu-button" style="font-size:30px;cursor:pointer" onclick="openNavigation()">&#9776;</span>
        
            <h2>Blog</h2>
        
    </div>
</div>
        <div class="container" id="container">
            <article class="content">
                
<meta name="description" content="Detect multiple gestures in SwiftUI app">


<meta name="keywords" content="swiftui, gesture, swift, ios"/>


<h2>SwiftUI - Detect multiple tap gestures</h2>

<time class="published">
    Published on Sep 19, 2021
</time>
<span class="published">
     by Mark Sinkovics
    
</span>

<p>SwiftUI offers a super easy way to recognize simple gestures and detect different gestures simultaneously on a view, for example long press, tap, magnification or rotate. However, the task gets complicated when multiple tap gestures must be recognized with various tap counts like single tap, double tap exclusively.</p>

<p>The simplest way would to use <code class="language-swift highlight highlighter-rouge"><span class="n">simultaneousGesture</span></code> function for each gesture that we want to recognize.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="code"><pre><span class="kd">struct</span> <span class="kt">GestureExample</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">Rectangle</span><span class="p">()</span>
            <span class="o">.</span><span class="nf">foregroundColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">red</span><span class="p">)</span>
            <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">center</span><span class="p">)</span>
            <span class="o">.</span><span class="nf">simultaneousGesture</span><span class="p">(</span><span class="kt">LongPressGesture</span><span class="p">()</span><span class="o">.</span><span class="n">onEnded</span> <span class="p">{</span> <span class="n">event</span> <span class="k">in</span>
                <span class="nf">debugPrint</span><span class="p">(</span><span class="s">"Long tap"</span><span class="p">)</span>
            <span class="p">})</span>
            <span class="o">.</span><span class="nf">simultaneousGesture</span><span class="p">(</span><span class="kt">TapGesture</span><span class="p">(</span><span class="nv">count</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">onEnded</span> <span class="p">{</span> <span class="n">event</span> <span class="k">in</span>
                <span class="nf">debugPrint</span><span class="p">(</span><span class="s">"Single tap"</span><span class="p">)</span>
            <span class="p">})</span>
            <span class="o">.</span><span class="nf">simultaneousGesture</span><span class="p">(</span><span class="kt">TapGesture</span><span class="p">(</span><span class="nv">count</span><span class="p">:</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">onEnded</span> <span class="p">{</span> <span class="n">event</span> <span class="k">in</span>
                <span class="nf">debugPrint</span><span class="p">(</span><span class="s">"Double tap"</span><span class="p">)</span>
            <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>Although it is able to recognize long tap and single tap separately, in the case of double tap it triggers both single and double tap gesture recognizers. Here is the given output for double tap</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="code"><pre><span class="s">"Single tap"</span>
<span class="s">"Double tap"</span>
<span class="s">"Single tap"</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>The solution should be to “combine” single and double tap gesture recognizers and invoce a callback method if one of it was fired. Fortunately, by using <code class="language-swift highlight highlighter-rouge"><span class="kt">SimultaneousGesture</span></code> we could reach the same result. During the initalization it requires 2 different type of gesture recognizers. The <code class="language-swift highlight highlighter-rouge"><span class="n">onEnded</span></code> function calls a compilation block if one of the gesture got recognized. The compilation block get called with a <code class="language-swift highlight highlighter-rouge"><span class="kt">SimultaneousGesture</span><span class="o">.</span><span class="kt">Value</span></code> struct with parameter <code class="language-swift highlight highlighter-rouge"><span class="n">first</span></code> and <code class="language-swift highlight highlighter-rouge"><span class="n">second</span></code> it will be valid (not nil) <code class="language-swift highlight highlighter-rouge"><span class="kt">Gesture</span></code> object if the given gestuire was recognized. Here is an example:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="code"><pre><span class="kd">struct</span> <span class="kt">GestureExample</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">Rectangle</span><span class="p">()</span>
            <span class="o">.</span><span class="nf">foregroundColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">red</span><span class="p">)</span>
            <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">center</span><span class="p">)</span>
            <span class="o">.</span><span class="nf">gesture</span><span class="p">(</span><span class="kt">SimultaneousGesture</span><span class="p">(</span><span class="kt">TapGesture</span><span class="p">(</span><span class="nv">count</span><span class="p">:</span> <span class="mi">1</span><span class="p">),</span><span class="kt">TapGesture</span><span class="p">(</span><span class="nv">count</span><span class="p">:</span> <span class="mi">2</span><span class="p">))</span>
                        <span class="o">.</span><span class="n">onEnded</span> <span class="p">{</span> <span class="n">gestures</span> <span class="k">in</span>
                            <span class="k">if</span> <span class="n">gestures</span><span class="o">.</span><span class="n">second</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
                                <span class="nf">debugPrint</span><span class="p">(</span><span class="s">"Double tap"</span><span class="p">)</span>
                            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">gestures</span><span class="o">.</span><span class="n">first</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
                                <span class="nf">debugPrint</span><span class="p">(</span><span class="s">"Single tap"</span><span class="p">)</span>
                            <span class="p">}</span>
                        <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>Combine this with a previous solution now we are able to recognize long tap, sinle and double tap separately Here is a simple example code to demonstrate it:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="code"><pre><span class="kd">struct</span> <span class="kt">GestureExample</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">Rectangle</span><span class="p">()</span>
            <span class="o">.</span><span class="nf">foregroundColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">red</span><span class="p">)</span>
            <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">center</span><span class="p">)</span>
            <span class="o">.</span><span class="nf">simultaneousGesture</span><span class="p">(</span><span class="kt">LongPressGesture</span><span class="p">()</span><span class="o">.</span><span class="n">onEnded</span> <span class="p">{</span> <span class="n">event</span> <span class="k">in</span>
                <span class="nf">debugPrint</span><span class="p">(</span><span class="s">"Long tap"</span><span class="p">)</span>
            <span class="p">})</span>
            <span class="o">.</span><span class="nf">simultaneousGesture</span><span class="p">(</span>
                <span class="kt">SimultaneousGesture</span><span class="p">(</span><span class="kt">TapGesture</span><span class="p">(</span><span class="nv">count</span><span class="p">:</span> <span class="mi">1</span><span class="p">),</span><span class="kt">TapGesture</span><span class="p">(</span><span class="nv">count</span><span class="p">:</span> <span class="mi">2</span><span class="p">))</span>
                    <span class="o">.</span><span class="n">onEnded</span> <span class="p">{</span> <span class="n">gestures</span> <span class="k">in</span>
                        <span class="k">if</span> <span class="n">gestures</span><span class="o">.</span><span class="n">second</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
                            <span class="nf">debugPrint</span><span class="p">(</span><span class="s">"Double tap"</span><span class="p">)</span>
                        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">gestures</span><span class="o">.</span><span class="n">first</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
                            <span class="nf">debugPrint</span><span class="p">(</span><span class="s">"Single tap"</span><span class="p">)</span>
                        <span class="p">}</span>
                    <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

<h3 id="links">Links</h3>

<ul>
  <li><a href="https://developer.apple.com/documentation/swiftui/gestures">Apple Dev Docs - SwiftUI Gesture</a></li>
</ul>


<p class="tags">
    
    <a class="post" href="/tags/swiftui">#swiftui</a>
    
    <a class="post" href="/tags/gesture">#gesture</a>
    
    <a class="post" href="/tags/swift">#swift</a>
    
    <a class="post" href="/tags/ios">#ios</a>
    
</p>
            </article>
            <footer>
    <span>
        Copyright &copy; <a href="https://marksinkovics.github.io"> 2023 Mark Sinkovics.</a> All rights reserved.
    </span>
</footer>

        </div>
        <div class="cover" id="cover" onclick="closeNavigation()" />
    </div>
</body>

</html>